{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/first_project/3","webpackCompilationHash":"b5ccda7e729bbc92f4bc","result":{"data":{"markdownRemark":{"id":"be819fa3-abec-538c-8d55-321f60a9131a","html":"<p>오늘(프로젝트 8일차)은 오후 3시에 1차 프로젝트 중간발표가 있었다.<br>\n3기 모든 인원과 멘토이신 은우님, 예리님이 같이 참여하여 8일차 오전까지 진행했던<br>\n프로젝트를 서로 발표하고 피드백을 받는 시간을 가졌다.<br>\n팀은 총 3팀으로 각 팀마다 프론트엔드가 정말 깔끔하고 실제 웹같이 잘 만들어가고 있었다.</p>\n<p>서론은 이쯤하고</p>\n<p>우리 팀에서 프론트엔드가 받은 피드백은 좀 더 실제 웹처럼 보완하라는 것이었다.<br>\n기존에는 헤더 메뉴는 메인 페이지가 아닌 다른 페이지의 헤더 메뉴를 적용했고,<br>\n메인 페이지는 메인 헤더쪽에 이미지도 안넣었으며 이미지들도 크고 너무 이상해보였다.</p>\n<p>그래서 발표가 끝난 후 바로 리뉴얼에 들어갔다.<br>\n메인 페이지에서 메인 헤더쪽에 이미지를 넣었으며 검색창도 헤더(메인 헤더x)에 있던 것을 없애고 메인 헤더에 넣었다.</p>\n<p>기존 헤더(메뉴)에서는 css로 position을 fix로 고정시켜 화면을 위아래로 움직여도 고정되게 했는데…<br>\n이는 사용자 경험상 매우 좋지 못한것임을 알았다.<br>\n그래서 스크롤을 일정 기준 이상 밑으로 내렸을때 헤더(메뉴)를 고정되는 것처럼 보여주고 일정 기준 이상 위로 올라가면<br>\n헤더(메뉴)가 웹 화면 바탕에 떠있는 것으로 보이게 처리했다.</p>\n<p>▼▼헤더(메뉴)가 웹 화면 바탕에 떠있어 보이는 이미지▼▼<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.39408866995074%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAID/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgH/2gAMAwEAAhADEAAAAbgCwCn/xAAYEAADAQEAAAAAAAAAAAAAAAAAAQIREv/aAAgBAQABBQJFcYpR/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQIBAT8Bp//EABYQAQEBAAAAAAAAAAAAAAAAAAAxMv/aAAgBAQAGPwKtK//EABkQAQADAQEAAAAAAAAAAAAAAAEAETEhQf/aAAgBAQABPyE9VWey5GKyo8n/2gAMAwEAAgADAAAAEIfv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxBLKVn/xAAXEQADAQAAAAAAAAAAAAAAAAABEBEh/9oACAECAQE/EKcL/8QAGhABAAMAAwAAAAAAAAAAAAAAAQARITFBcf/aAAgBAQABPxAHOCiFvnMgcC3ZEfWOWi3q1bP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/9e8b6e3bf5bdf89789e4b4b45c183a59/01472/newmain1.webp 240w,\n/static/9e8b6e3bf5bdf89789e4b4b45c183a59/222bd/newmain1.webp 480w,\n/static/9e8b6e3bf5bdf89789e4b4b45c183a59/620b9/newmain1.webp 960w,\n/static/9e8b6e3bf5bdf89789e4b4b45c183a59/b5a66/newmain1.webp 1218w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/9e8b6e3bf5bdf89789e4b4b45c183a59/3bc27/newmain1.jpg 240w,\n/static/9e8b6e3bf5bdf89789e4b4b45c183a59/98431/newmain1.jpg 480w,\n/static/9e8b6e3bf5bdf89789e4b4b45c183a59/b3ee8/newmain1.jpg 960w,\n/static/9e8b6e3bf5bdf89789e4b4b45c183a59/50871/newmain1.jpg 1218w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/9e8b6e3bf5bdf89789e4b4b45c183a59/b3ee8/newmain1.jpg\"\n          alt=\"newMain1IMG\"\n          title=\"newMain1IMG\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span></p>\n<p>▼▼스크롤을 일정 기준 이상 밑으로 내렸을때<br>\n헤더(메뉴)가 고정되는 것처럼 보이는 이미지▼▼<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.32840722495895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAAB3QxwSipT/8QAGBABAQEBAQAAAAAAAAAAAAAAAQIRAxP/2gAIAQEAAQUC9FuXrk9HJk9LkIgM/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECMSH/2gAIAQEABj8CcqxurR2kYtHxGH//xAAdEAACAgIDAQAAAAAAAAAAAAABEQAhMUFRcaHw/9oACAEBAAE/IVoNkAfCDFBDRBXkzEPUZG7ZREAeajymeJ//2gAMAwEAAgADAAAAEPT/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAABMf/aAAgBAwEBPxDFf//EABgRAQEAAwAAAAAAAAAAAAAAAAEAESEx/9oACAECAQE/EA12Fxf/xAAdEAEBAAMAAgMAAAAAAAAAAAABEQAhMUFRYXHw/9oACAEBAAE/ECi+X1sGH54zR17WqnZXLlrbO1yHwYQoXdFwhMQgBWncDIfo9Gf/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/1743c119edd179245b9b8b5c6120f8d9/01472/newmain2.webp 240w,\n/static/1743c119edd179245b9b8b5c6120f8d9/222bd/newmain2.webp 480w,\n/static/1743c119edd179245b9b8b5c6120f8d9/620b9/newmain2.webp 960w,\n/static/1743c119edd179245b9b8b5c6120f8d9/b5a66/newmain2.webp 1218w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/1743c119edd179245b9b8b5c6120f8d9/3bc27/newmain2.jpg 240w,\n/static/1743c119edd179245b9b8b5c6120f8d9/98431/newmain2.jpg 480w,\n/static/1743c119edd179245b9b8b5c6120f8d9/b3ee8/newmain2.jpg 960w,\n/static/1743c119edd179245b9b8b5c6120f8d9/50871/newmain2.jpg 1218w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/1743c119edd179245b9b8b5c6120f8d9/b3ee8/newmain2.jpg\"\n          alt=\"newMain2IMG\"\n          title=\"newMain2IMG\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span></p>\n<p>그리고 메인 페이지에 이미지 리스트쪽 이미지들도 사이즈를 자연스럽게 줄이고 뷰를 더 완성도있게 만들었다.</p>\n<p>html 작성할때 header에 className을 2개로 준 상태이고, a className 일때는 헤더(메뉴)가 웹 하면 바탕에 떠있어<br>\n보이게 css적용, b className 일때는 헤더(메뉴)가 고정되는 것처럼 보이게 css적용하고 스크롤 일정 기준을 window의 scrollY를 기준으로 했고, scrollY의 값을 setState로 계속 변경해줬다.<br>\n그리고 scrollY의 값을 기준으로 className을 동적으로 변경해줬다.<br>\n이때 heaer라는 DOM에 접근하기 위해 ref를 사용했으며, react 최신 버전에 맞는 React.createRef()을 사용했다.</p>\n<div class=\"colorscripter-code\" style=\"color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto\"><table class=\"colorscripter-code-table\" style=\"margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;\" cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"padding:6px;border-right:2px solid #e5e5e5\"><div style=\"margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%\"><div style=\"line-height:130%\">1</div><div style=\"line-height:130%\">2</div><div style=\"line-height:130%\">3</div></div></td><td style=\"padding:6px 0;text-align:left\"><div style=\"margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%\"><div style=\"padding:0 6px; white-space:pre; line-height:130%\">this.myRef&nbsp;<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">=</span>&nbsp;React.createRef();</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\"><span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">&lt;</span>header&nbsp;ref<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">=</span>{this.myRef}&nbsp;className<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">=</span><span style=\"color:#63a35c\">\"header&nbsp;header--Transparent\"</span><span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">&gt;</span><span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">&lt;</span><span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">/</span>header<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">&gt;</span></div></div></td><td style=\"vertical-align:bottom;padding:0 2px 4px 0\"><a href=\"http://colorscripter.com/info#e\" target=\"_blank\" style=\"text-decoration:none;color:white\"><span style=\"font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px\">cs</span></a></td></tr></table></div>\n<div class=\"colorscripter-code\" style=\"color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto\"><table class=\"colorscripter-code-table\" style=\"margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;\" cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"padding:6px;border-right:2px solid #e5e5e5\"><div style=\"margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%\"><div style=\"line-height:130%\">1</div><div style=\"line-height:130%\">2</div><div style=\"line-height:130%\">3</div><div style=\"line-height:130%\">4</div><div style=\"line-height:130%\">5</div><div style=\"line-height:130%\">6</div><div style=\"line-height:130%\">7</div><div style=\"line-height:130%\">8</div><div style=\"line-height:130%\">9</div><div style=\"line-height:130%\">10</div></div></td><td style=\"padding:6px 0;text-align:left\"><div style=\"margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%\"><div style=\"padding:0 6px; white-space:pre; line-height:130%\">componentDidMount()&nbsp;{</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#066de2\">window</span>.<span style=\"color:#066de2\">addEventListener</span>(<span style=\"color:#63a35c\">'scroll'</span>,&nbsp;this.handleScroll,&nbsp;<span style=\"color:#0099cc\">true</span>);</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;}</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;handleScroll&nbsp;<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">=</span>&nbsp;()&nbsp;<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">=</span><span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">&gt;</span>&nbsp;{</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#066de2\">console</span>.log(<span style=\"color:#066de2\">window</span>.scrollY);</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;&nbsp;&nbsp;this.setState({</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color:#066de2\">scroll</span>:&nbsp;<span style=\"color:#066de2\">window</span>.scrollY,</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;&nbsp;&nbsp;});</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;&nbsp;&nbsp;this.myRef.current.className&nbsp;<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">=</span>&nbsp;this.state.<span style=\"color:#066de2\">scroll</span>&nbsp;<span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">&gt;</span><span style=\"color:#0086b3\"></span><span style=\"color:#a71d5d\">=</span>&nbsp;<span style=\"color:#0099cc\">480</span>&nbsp;?&nbsp;<span style=\"color:#63a35c\">'header'</span>&nbsp;:&nbsp;<span style=\"color:#63a35c\">'header&nbsp;header--Transparent'</span>;</div><div style=\"padding:0 6px; white-space:pre; line-height:130%\">&nbsp;&nbsp;}</div></div><div style=\"text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic\"><a href=\"http://colorscripter.com/info#e\" target=\"_blank\" style=\"color:#e5e5e5text-decoration:none\">Colored by Color Scripter</a></div></td><td style=\"vertical-align:bottom;padding:0 2px 4px 0\"><a href=\"http://colorscripter.com/info#e\" target=\"_blank\" style=\"text-decoration:none;color:white\"><span style=\"font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px\">cs</span></a></td></tr></table></div>\n<p>메인 페이지에서 스크롤을 내리니 내가 의도한대로 잘 작동한다.<br>\n하지만 문제점이 생겼다.<br>\n로그인 페이지나 회원가입 페이지로 이동해서 스크롤을 움직이면 에러가 발생한다.<br>\n로그인 페이지와 회원가입 페이지에서는 헤더 컴포넌트가 없어서이다.<br>\n헤더 컴포넌트가 없으니 해당 DOM에 접근할 수 없고 이로 인한 에러이다.<br>\n그래서 lifecycle 중에 componentWillUnmount()을 사용해서 해당 페이지의 생명주기가 끝나면 이벤트를 종료되게 해줬다.</p>\n<p>계속 진행중인 부분은 로그인 페이지에서 로그인을하면 메인페이지에서 로그아웃이 뜨고 로그아웃하면 로그인이 뜨는 부분이다.</p>\n<p>몇몇 실제 기능적인 부분은 프로젝트에서 구현하지 않지만 작동은 안하더라도 뷰를 더 완성도있게 하고싶어 빼놓지 않고<br>\n코딩했다.</p>","fields":{"slug":"/posts/first_project/3","tagSlugs":["/tag/css/","/tag/sass/","/tag/문제해결/"]},"frontmatter":{"date":"2019-09-03","description":"1차 프로젝트 8일 동안의 모든 것","tags":["css","sass","문제해결"],"title":"1차 프로젝트 8일차"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/first_project/3"}}}