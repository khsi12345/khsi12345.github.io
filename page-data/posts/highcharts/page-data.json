{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/highcharts","webpackCompilationHash":"19f1e5161a5f0d112379","result":{"data":{"markdownRemark":{"id":"76a4b706-93a3-5b27-ae3d-c3474e995792","html":"<p>유저들이 보는 Admin Page Dashboard에 앱을 사용한 시간을 데이터로 사용해서 chart로 나타내려고 한다.</p>\n<p>chart는 라이브러리를 사용하기 위해 chart 라이브러리에 대해 공부를 해보니 SVG 기반과 Canvas 기반으로 나누어져<br>\n있었고, 각 기반이 어느 경우에 적합한지도 알 수 있었다.</p>\n<p>SVG와 Canvas에 대해 공부한 것은 다음 블로그 글 작성으로 넘기겠다.<br>\nSVG와 Canvas에 대해 알아봤고, 어느 경우에 어떤 기반의 차트 라이브러리를 적용해야하는지 또 나에게 필요한 기능을<br>\n제공해주는지를 기준으로 잡았다.</p>\n<p>기업협업을 진행 중인 기업의 대표님과 대화 끝에 나온 결과는<br>\n데이터 수는 적다.(연간 차트. 1년치 전체 차트에서 월별 사용량)<br>\n스타일을 custom해야 한다.<br>\n위 2가지다.</p>\n<p>위 2가지의 조건을 충족한다고 생각해서 현업에서 널리 쓰이고 SVG기반인 highchart를 사용하기로 판단했다.</p>\n<p>highchart를 프로젝트에 적용하는 방법은 CDN방법으로 script태그를 사용하거나, 패키지로 설치한다.</p>\n<p>CDN방법으로 하기 위해 공식 문서에서 제공해주는 script태그를 복사해서 프로젝트에 붙여 넣었다.<br>\n그리고 차트를 렌더링해야하는 컴포넌트에 차트를 렌더링하는 함수를 작성했다.</p>\n<p>에러가 발생한다.(not a function!!)<br>\n에러가 발생해서 구글로 검색해보니 highchart 라이브러리에서 jQeury를 사용할테니 highchart script 태그보다 위에 jQeury script 태그를 작성하라는 것이다.<br>\n바로 적용을 해보았다.<br>\n결과는 똑같은 에러…</p>\n<p>패키지로 설치하면 되려나?? 생각해서 script 태그들을 주석처리하고 yarn으로 설치했다.(패키지 설치 후에는 항상 빌드를 다시하고 서버 실행도 다시)</p>\n<p>두근두근 차트가 뜨겠지?? 하고 봤는데 CDN방법으로 했을때 발생한 에러가 그대로 발생한다.</p>\n<p>에러는 바로…!!!!\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/26b95c8e1811bc12c7014d1d00b23a61/cac76/chart_error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 3.1609195402298855%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAATUlEQVQI1x2LOw6AIBTAvP/lHCRGUfGD37jpwANNKrg1aZt53RPGmec4cbnCFTXBrkhtEKWRqsUbi5RN5I6w7LzX/T/Jp9abiTDYyBsfuHZKSCTH/1YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/26b95c8e1811bc12c7014d1d00b23a61/01472/chart_error.webp 240w,\n/static/26b95c8e1811bc12c7014d1d00b23a61/222bd/chart_error.webp 480w,\n/static/26b95c8e1811bc12c7014d1d00b23a61/620b9/chart_error.webp 960w,\n/static/26b95c8e1811bc12c7014d1d00b23a61/b83c4/chart_error.webp 1044w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/26b95c8e1811bc12c7014d1d00b23a61/0783d/chart_error.png 240w,\n/static/26b95c8e1811bc12c7014d1d00b23a61/782f4/chart_error.png 480w,\n/static/26b95c8e1811bc12c7014d1d00b23a61/f570d/chart_error.png 960w,\n/static/26b95c8e1811bc12c7014d1d00b23a61/cac76/chart_error.png 1044w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/26b95c8e1811bc12c7014d1d00b23a61/f570d/chart_error.png\"\n          alt=\"chart_error_img\"\n          title=\"chart_error_img\"\n          loading=\"lazy\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>그래서 어디쪽에서 문제가 발생하는걸까 생각해봤는데…<br>\n순간적으로 머리에 떠오른게 함수형 컴포넌트의 lifecycle이었다.<br>\n클래스형 컴포넌트와는 다르게 함수형 컴포넌트는 컴포넌트 자체가 다시 렌더링 되고, 또 함수 바디 -> return이 기본적이고, useEffect hook을 사용한다면 return 다음 순서이다.</p>\n<p>에러의 이유는 차트를 렌더링하는 함수를 함수 바디에서 해줬기 때문이었다.<br>\nuserEffect hook을 사용해서 useEffect의 매개변수로 넣어주니 에러없이 잘 렌더링된다.</p>","fields":{"slug":"/posts/highcharts","tagSlugs":["/tag/highcharts/"]},"frontmatter":{"date":"2019-10-15","description":"Admin Page Dashboard에 chart libray 적용에 대한 글 작성","tags":["highcharts"],"title":"highcharts 라이브러리 사용기"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/highcharts"}}}